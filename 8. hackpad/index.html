<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title></title>
	<style type="text/css">
	body,html{
		margin: 0px;
		padding: 0px;
	}
	</style>
</head>
<body>
<div onkeypress="save()" id="xx" style="height:100%">
	
</div>

<script type="text/javascript">
	document.getElementById("xx").contentEditable = 'true';
	document.getElementById("xx").designMode='on';

	document.getElementById("xx").innerHTML = httpGet('/save');
	

	function httpGet(theUrl) { //ajax requset
	    var xmlHttp = null;

	    xmlHttp = new XMLHttpRequest();
	    xmlHttp.open("GET", theUrl, false);
	    xmlHttp.send(null);
	    return xmlHttp.responseText;
	}

	var text = '';
	function save(){
		text = document.getElementById("xx").innerHTML;
		console.log(text);
		httpGet('/save/'+text);
	}

	setInterval(function(){
		document.getElementById("xx").innerHTML = httpGet('/save');
	},500);
	
</script>
</body>

</html>